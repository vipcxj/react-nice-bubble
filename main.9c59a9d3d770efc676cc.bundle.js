(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(module,exports,__webpack_require__){__webpack_require__(228),__webpack_require__(332),module.exports=__webpack_require__(333)},333:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(334),react_2=__webpack_require__(145),react_3=__webpack_require__(145),index_1=__webpack_require__(503);react_3.addDecorator(react_1.withKnobs),react_2.configure(function(){return index_1.default},module)}).call(this,__webpack_require__(40)(module))},503:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var addon_knobs_1=__webpack_require__(172),react_1=__webpack_require__(145),React=__webpack_require__(72),index_1=__webpack_require__(504);exports.stories=react_1.storiesOf("bubble",module),exports.stories.add("base",function(){var left=addon_knobs_1.number("style: left",0),top=addon_knobs_1.number("style: top",0),width=addon_knobs_1.number("width",300,{range:!0,min:0,max:500,step:20}),height=addon_knobs_1.number("height",300,{range:!0,min:0,max:500,step:20}),arrowSize=addon_knobs_1.number("arrow size",16,{range:!0,min:0,max:30,step:1}),arrowDegree0=addon_knobs_1.number("arrow angle 0",45,{range:!0,min:10,max:170,step:5}),arrowDegree1=addon_knobs_1.number("arrow angle 1",45,{range:!0,min:10,max:170,step:5}),arrowOffset=addon_knobs_1.number("arrow offset",16,{range:!0,min:0,max:30,step:1}),borderWidth=addon_knobs_1.number("border width",1,{range:!0,min:0,max:20,step:1}),borderRadius=addon_knobs_1.number("border radius",0,{range:!0,min:0,max:20,step:1}),borderColor=addon_knobs_1.select("border color",{white:"white",black:"black",red:"red",green:"green",blue:"blue",yellow:"yellow",blackWithAlpha0:"rgba(0,0,0,0.2)",blackWithAlpha1:"rgba(0,0,0,0.4)",blackWithAlpha2:"rgba(0,0,0,0.6)",blackWithAlpha3:"rgba(0,0,0,0.8)",redWithAlpha0:"rgba(255,0,0,0.3)",redWithAlpha1:"rgba(255,0,0,0.5)",redWithAlpha2:"rgba(255,0,0,0.7)",greenWithAlpha0:"rgba(0,255,0,0.3)",greenWithAlpha1:"rgba(0,255,0,0.5)",greenWithAlpha2:"rgba(0,255,0,0.7)",blueWithAlpha0:"rgba(0,0,255,0.3)",blueWithAlpha1:"rgba(0,0,255,0.5)",blueWithAlpha2:"rgba(0,0,255,0.7)"},"black"),position=addon_knobs_1.select("position",{TOP_LEFT:index_1.Position.TOP_LEFT,TOP_CENTER:index_1.Position.TOP_CENTER,TOP_RIGHT:index_1.Position.TOP_RIGHT,LEFT_TOP:index_1.Position.LEFT_TOP,LEFT_CENTER:index_1.Position.LEFT_CENTER,LEFT_BOTTOM:index_1.Position.LEFT_BOTTOM,BOTTOM_LEFT:index_1.Position.BOTTOM_LEFT,BOTTOM_CENTER:index_1.Position.BOTTOM_CENTER,BOTTOM_RIGHT:index_1.Position.BOTTOM_RIGHT,RIGHT_TOP:index_1.Position.RIGHT_TOP,RIGHT_CENTER:index_1.Position.RIGHT_CENTER,RIGHT_BOTTOM:index_1.Position.RIGHT_BOTTOM},index_1.Position.TOP_LEFT),boxSizing=addon_knobs_1.select("box sizing",{CONTENT_BOX:index_1.BoxSizing.CONTENT_BOX,BORDER_BOX:index_1.BoxSizing.BORDER_BOX},index_1.BoxSizing.CONTENT_BOX),backGroundColor=addon_knobs_1.select("background color",{none:"transparent",white:"white",black:"black",red:"red",green:"green",blue:"blue",yellow:"yellow",blackWithAlpha0:"rgba(0,0,0,0.2)",blackWithAlpha1:"rgba(0,0,0,0.4)",blackWithAlpha2:"rgba(0,0,0,0.6)",blackWithAlpha3:"rgba(0,0,0,0.8)",redWithAlpha0:"rgba(255,0,0,0.3)",redWithAlpha1:"rgba(255,0,0,0.5)",redWithAlpha2:"rgba(255,0,0,0.7)",greenWithAlpha0:"rgba(0,255,0,0.3)",greenWithAlpha1:"rgba(0,255,0,0.5)",greenWithAlpha2:"rgba(0,255,0,0.7)",blueWithAlpha0:"rgba(0,0,255,0.3)",blueWithAlpha1:"rgba(0,0,255,0.5)",blueWithAlpha2:"rgba(0,0,255,0.7)"},"none");return React.createElement(index_1.default,{width:width,height:height,arrowSize:arrowSize,arrowDegree0:arrowDegree0,arrowDegree1:arrowDegree1,arrowOffset:arrowOffset,position:position,borderWidth:borderWidth,borderColor:borderColor,borderRadius:borderRadius,boxSizing:boxSizing,backgroundColor:backGroundColor,style:{left:left,top:top}},"Hello world!")},{info:{inline:!0}}),exports.stories.add("button under bubble",function(){return React.createElement("div",null,React.createElement("button",{style:{position:"absolute",left:0,top:0},onClick:function(){return alert("button outside is clicked!")}},"button outside"),React.createElement("button",{style:{position:"absolute",left:100,top:100},onClick:function(){return alert("button inside is clicked!")}},"button inside"),React.createElement(index_1.default,{style:{position:"absolute",left:0,top:0},width:300,height:300,arrowSize:64,backgroundColor:"rgba(200, 30, 30, 0.5)"},"Hello world!"))}),exports.default=exports.stories}).call(this,__webpack_require__(40)(module))},504:function(module,exports,__webpack_require__){"use strict";var _a,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,"__esModule",{value:!0});var Position,BoxSizing,React=__webpack_require__(72);!function(Position){Position.TOP_LEFT="top-left",Position.TOP_CENTER="top-center",Position.TOP_RIGHT="top-right",Position.LEFT_TOP="left-top",Position.LEFT_CENTER="left-center",Position.LEFT_BOTTOM="left-bottom",Position.BOTTOM_LEFT="bottom-left",Position.BOTTOM_CENTER="bottom-center",Position.BOTTOM_RIGHT="bottom-right",Position.RIGHT_TOP="right_top",Position.RIGHT_CENTER="right_center",Position.RIGHT_BOTTOM="right_bottom"}(Position=exports.Position||(exports.Position={})),function(BoxSizing){BoxSizing.CONTENT_BOX="content-box",BoxSizing.BORDER_BOX="border-box"}(BoxSizing=exports.BoxSizing||(exports.BoxSizing={})),exports.defaultProps={arrowSize:16,arrowDegree0:45,arrowDegree1:45,arrowOffset:16,position:Position.LEFT_TOP,borderWidth:1,borderColor:"black",backgroundColor:"white",borderRadius:0,boxSizing:BoxSizing.CONTENT_BOX};var POSITION_HINT=((_a={})[Position.TOP_LEFT]=[-1,-2],_a[Position.TOP_CENTER]=[0,-2],_a[Position.TOP_RIGHT]=[1,-2],_a[Position.LEFT_TOP]=[-2,-1],_a[Position.LEFT_CENTER]=[-2,0],_a[Position.LEFT_BOTTOM]=[-2,1],_a[Position.BOTTOM_LEFT]=[-1,2],_a[Position.BOTTOM_CENTER]=[0,2],_a[Position.BOTTOM_RIGHT]=[1,2],_a[Position.RIGHT_TOP]=[2,-1],_a[Position.RIGHT_CENTER]=[2,0],_a[Position.RIGHT_BOTTOM]=[2,1],_a),degreeToAngle=function(degree){return degree*Math.PI/180},TAN_45=Math.tan(Math.PI/4),updateBBox=function(box,x,y,xo,yo){var left=box[0],top=box[1],width=box[2],height=box[3];return y+=yo,(x+=xo)<left?(box[0]=x,box[2]+=left-x):x>width&&(box[2]+=x-width),y<top?(box[1]=y,box[3]+=top-y):y>height&&(box[3]+=y-height),[box,x,y]},updateBBoxes=function(box,x,y,offsets){for(var _a,_i=0,offsets_1=offsets;_i<offsets_1.length;_i++){var offset=offsets_1[_i];box=(_a=updateBBox.apply(void 0,__spreadArrays([box,x,y],offset)))[0],x=_a[1],y=_a[2]}return[box,x,y]},BUBBLE_ID=0;exports.default=function(props){var _a=props.style||{},padding=(_a.border,_a.borderColor,_a.borderWidth,_a.padding),paddingLeft=_a.paddingLeft,paddingRight=_a.paddingRight,paddingTop=_a.paddingTop,paddingBottom=_a.paddingBottom,paddingBlock=_a.paddingBlock,paddingBlockStart=_a.paddingBlockStart,paddingBlockEnd=_a.paddingBlockEnd,paddingInline=_a.paddingInline,paddingInlineStart=_a.paddingInlineStart,paddingInlineEnd=_a.paddingInlineEnd,restStyle=__rest(_a,["border","borderColor","borderWidth","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","paddingBlock","paddingBlockStart","paddingBlockEnd","paddingInline","paddingInlineStart","paddingInlineEnd"]),children=props.children,_b=function(props,id,style){var _a,_b,_c,_d,_e,_f,_g,_h,width=props.width,height=props.height,_j=props.arrowSize,arrowSize=void 0===_j?exports.defaultProps.arrowSize:_j,_k=props.arrowDegree0,arrowDegree0=void 0===_k?exports.defaultProps.arrowDegree0:_k,_l=props.arrowDegree1,arrowDegree1=void 0===_l?exports.defaultProps.arrowDegree1:_l,_m=props.arrowOffset,arrowOffset=void 0===_m?exports.defaultProps.arrowOffset:_m,_o=props.borderColor,borderColor=void 0===_o?exports.defaultProps.borderColor:_o,_p=props.borderWidth,borderWidth=void 0===_p?exports.defaultProps.borderWidth:_p,_q=props.borderRadius,borderRadius=void 0===_q?exports.defaultProps.borderRadius:_q,_r=props.backgroundColor,backgroundColor=void 0===_r?exports.defaultProps.backgroundColor:_r,_s=props.boxSizing,boxSizing=void 0===_s?exports.defaultProps.boxSizing:_s,_t=props.position,position=void 0===_t?exports.defaultProps.position:_t,hint=POSITION_HINT[position],contentBox=boxSizing===BoxSizing.CONTENT_BOX,angle0=degreeToAngle(arrowDegree0),angle1=degreeToAngle(arrowDegree1),arrowWidth0=arrowSize>0?arrowSize/Math.tan(angle0):0,arrowWidth1=arrowSize>0?arrowSize/Math.tan(angle1):0,arrowWidth=arrowWidth0+arrowWidth1,arrowRadio=contentBox&&borderWidth>0?borderWidth*(Math.tan(angle0/2)+Math.tan(angle1/2))/arrowWidth+1:1,realArrowSize=arrowSize*arrowRadio,realArrowWidth0=arrowWidth0*arrowRadio,realArrowWidth1=arrowWidth1*arrowRadio,realArrowWidth=arrowWidth*arrowRadio,realArrowOffset=Math.max(Math.max(arrowOffset+(contentBox?borderWidth*(TAN_45-Math.tan(angle0/2)):0),borderRadius),0),minWH=realArrowOffset+realArrowWidth+borderRadius,svgWidth=Math.max(width+(contentBox?2*borderWidth:0),minWH),svgHeight=Math.max(height+(contentBox?2*borderWidth:0),minWH),boxWidth=Math.max(svgWidth-2*borderWidth,0),boxHeight=Math.max(svgHeight-2*borderWidth,0),arDirX=[1,0,-1,0],arDirY=[0,1,0,-1],arHintCheck=[[1,-2],[0,2],[1,2],[0,-2]],box=[0,0,svgWidth,svgHeight],x=0,y=borderRadius;box=(_a=updateBBox(box,x,y,0,0))[0];for(var path="M"+(x=_a[1])+" "+(y=_a[2]),i=0;i<4;++i){var dirX=arDirX[i],dirY=arDirY[i],dirNX=arDirX[0===i?3:i-1],dirNY=arDirY[0===i?3:i-1],hintCheck=arHintCheck[i];borderRadius>0&&(box=(_b=updateBBox(box,x,y,(dirNX+dirX)*borderRadius,(dirNY+dirY)*borderRadius))[0],path+="A"+borderRadius+","+borderRadius+" 0 0,1 "+(x=_b[1])+","+(y=_b[2]));var offset=void 0,svgSize=hintCheck[0]?svgWidth:svgHeight;if(hint[hintCheck[0]]===hintCheck[1]){var idxDir=1-hintCheck[0],pos=hint[idxDir]*(idxDir?dirY:dirX),realArrowWidthPartA=pos<0?realArrowWidth0:pos>0?realArrowWidth1:realArrowWidth/2,realArrowWidthPartB=pos>0?realArrowWidth0:pos<0?realArrowWidth1:realArrowWidth/2,axoA=dirX*realArrowWidthPartA+dirNX*realArrowSize,ayoA=dirY*realArrowWidthPartA+dirNY*realArrowSize,axoB=dirX*realArrowWidthPartB-dirNX*realArrowSize,ayoB=dirY*realArrowWidthPartB-dirNY*realArrowSize,pathArrow="l"+axoA+" "+ayoA+"l"+axoB+" "+ayoB;if(pos<0){var lOffset=svgSize-(offset=realArrowOffset-borderRadius)-realArrowWidth-2*borderRadius;offset>0&&(box=(_c=updateBBox(box,x,y,dirX*offset,dirY*offset))[0],path+="L"+(x=_c[1])+","+(y=_c[2])),box=(_d=updateBBoxes(box,x,y,[[axoA,ayoA],[axoB,ayoB],[dirX*lOffset,dirY*lOffset]]))[0],path+=pathArrow+"L"+(x=_d[1])+" "+(y=_d[2])}else if(pos>0){box=(_e=updateBBoxes(box,x,y,[[dirX*(lOffset=svgSize-(offset=realArrowOffset-borderRadius)-realArrowWidth-2*borderRadius),dirY*lOffset],[axoA,ayoA],[axoB,ayoB]]))[0],x=_e[1],y=_e[2],path+="l"+dirX*lOffset+" "+dirY*lOffset+pathArrow,offset>0&&(box=(_f=updateBBox(box,x,y,dirX*offset,dirY*offset))[0],path+="L"+(x=_f[1])+","+(y=_f[2]))}else box=(_g=updateBBoxes(box,x,y,[[dirX*(offset=(svgSize-realArrowWidth-2*borderRadius)/2),dirY*offset],[axoA,ayoA],[axoB,ayoB],[dirX*offset,dirY*offset]]))[0],x=_g[1],y=_g[2],path+="l"+dirX*offset+" "+dirY*offset+pathArrow+"l"+dirX*offset+" "+dirY*offset}else box=(_h=updateBBox(box,x,y,dirX*(svgSize-2*borderRadius),dirY*(svgSize-2*borderRadius)))[0],path+="L"+(x=_h[1])+","+(y=_h[2])}path+="Z";var tpId="bubble-tp-"+id,clipId="bubble-clip-"+id,left=box[0],top=box[1],cWidth=box[2],cHeight=box[3],boxPosX=-left+borderWidth,boxPosY=-top+borderWidth;return{node:React.createElement("svg",{style:style,width:cWidth,height:cHeight,viewBox:left+" "+top+" "+cWidth+" "+cHeight,fill:"none"},React.createElement("defs",null,React.createElement("path",{id:tpId,d:path}),React.createElement("clipPath",{id:clipId},React.createElement("use",{xlinkHref:"#"+tpId}))),React.createElement("use",{xlinkHref:"#"+tpId,stroke:borderColor,strokeWidth:2*borderWidth,fill:backgroundColor,clipPath:"url(#"+clipId+")"})),cWidth:cWidth,cHeight:cHeight,boxPosX:boxPosX,boxPosY:boxPosY,boxWidth:boxWidth,boxHeight:boxHeight}}(props,React.useState(BUBBLE_ID++)[0]),node=_b.node,cWidth=_b.cWidth,cHeight=_b.cHeight,boxPosX=_b.boxPosX,boxPosY=_b.boxPosY,boxWidth=_b.boxWidth,boxHeight=_b.boxHeight,cStyle=__assign(__assign({position:"relative",pointerEvents:"none"},restStyle),{width:cWidth,height:cHeight}),bStyle={position:"absolute",left:boxPosX,top:boxPosY,width:boxWidth,height:boxHeight,margin:0,border:"none",background:"none",pointerEvents:"initial",padding:padding,paddingTop:paddingTop,paddingRight:paddingRight,paddingBottom:paddingBottom,paddingLeft:paddingLeft,paddingBlock:paddingBlock,paddingBlockStart:paddingBlockStart,paddingBlockEnd:paddingBlockEnd,paddingInline:paddingInline,paddingInlineStart:paddingInlineStart,paddingInlineEnd:paddingInlineEnd};return React.createElement("div",{style:cStyle},node,React.createElement("div",{style:bStyle},children||null))};try{(exports.src||src).displayName="src",(exports.src||src).__docgenInfo={description:"",displayName:"src",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},arrowSize:{defaultValue:null,description:"",name:"arrowSize",required:!1,type:{name:"number"}},arrowDegree0:{defaultValue:null,description:"",name:"arrowDegree0",required:!1,type:{name:"number"}},arrowDegree1:{defaultValue:null,description:"",name:"arrowDegree1",required:!1,type:{name:"number"}},arrowOffset:{defaultValue:null,description:"",name:"arrowOffset",required:!1,type:{name:"number"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"Position"}},borderWidth:{defaultValue:null,description:"",name:"borderWidth",required:!1,type:{name:"number"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"string"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},boxSizing:{defaultValue:null,description:"",name:"boxSizing",required:!1,type:{name:"BoxSizing"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.tsx#src"]={name:"src",docgenInfo:(exports.src||src).__docgenInfo,path:"src/index.tsx"})}catch(e){}}},[[227,1,2]]]);
//# sourceMappingURL=main.9c59a9d3d770efc676cc.bundle.js.map